<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>DSA </title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">


    <!--myu style code-->
    <style>
        /* *{
      border: 1px solid red;
    } */
        .container {
            max-width: 100vw;
        }

        .register {
            font-size: 2rem;
            text-align: center;
        }

        .image-logo {
            width: 5vw
        }

        .term-para {
            color: navy;
            font-weight: lighter;
            text-align: justify;
        }

        .term-heading {
            color: navy;
            font-size: 1.4rem;
        }

        .footer {
            margin-top: 6%;
        }

        .image-footer {
            width: 10vw;
        }

        @media (max-width:458px) {
            .image-fluid {
                width: 13vw
            }
        }

        .bg-image-vertical {
            position: relative;
            overflow: hidden;
            background-repeat: no-repeat;
            background-position: right center;
            background-size: auto 100%;
        }

        @media (max-width: 767px) {
            .col-md-9 {
                display: none;
            }
        }

        @media (max-width:458px) {
            .image-fluid {
                width: 13vw
            }
        }

        .bg-image-vertical {
            position: relative;
            overflow: hidden;
            background-repeat: no-repeat;
            background-position: right center;
            background-size: auto 100%;
        }

        @media (max-width: 767px) {
            .col-md-9 {
                display: none;
            }
        }
    </style>
</head>

<body>


    <!-- Header Start -->
    <% if (user) { %>
        <%- include('navbarlogout.ejs') %>
            <% } else { %>
                <%- include('navbar.ejs') %>
                    <% } %>
                        <!-- <section class="vh-90" style="background-color: #eee;"> -->
                        <div class="container h-90">
                            <div class="row d-flex justify-content-center align-items-center h-100">
                                <div class="col-lg-12 col-xl-11">
                                    <div class="card " style="border-radius: 25px;">
                                        <div class="card-body p-md-5">
                                            <div class="row justify-content-center">
                                                <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                                                    <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign up</p>

                                                    <form action="/signup" method="post" class="mx-1 mx-md-4">

                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                                                            <div class="form-outline flex-fill mb-0">
                                                                <input type="text" name="firstname" id="form3Example1c"
                                                                    class="form-control" />
                                                                <label class="form-label" for="form3Example1c">Your
                                                                    Name</label>
                                                            </div>
                                                        </div>

                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                                            <div class="form-outline flex-fill mb-0">
                                                                <input type="email" id="form3Example3c" name="username"
                                                                    class="form-control" />
                                                                <label class="form-label" for="form3Example3c">Your
                                                                    Email</label>
                                                            </div>
                                                        </div>

                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                                                            <div class="form-outline flex-fill mb-0">
                                                                <input name="password" type="password"
                                                                    id="form3Example4c" class="form-control" />
                                                                <label class="form-label"
                                                                    for="form3Example4c">Password</label>
                                                            </div>
                                                        </div>

                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-key fa-lg me-3 fa-fw"></i>
                                                            <div class="form-outline flex-fill mb-0">
                                                                <input type="password" id="form3Example4cd"
                                                                    class="form-control" />
                                                                <label class="form-label" for="form3Example4cd">Repeat
                                                                    your password</label>
                                                            </div>
                                                        </div>

                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                                            <div class="form-outline flex-fill mb-0">
                                                                <input type="text" name="phone_number" id="formE"
                                                                    class="form-control" />
                                                                <label class="form-label" for="form3Example3c">Phone
                                                                    number </label>
                                                            </div>

                                                        </div>



                                                        <div class="form-check d-flex justify-content-center mb-5">
                                                            <input class="form-check-input me-2" type="checkbox"
                                                                value="" id="form2Example3c" />
                                                            <label class="form-check-label" for="form2Example3">
                                                                I agree all statements in <a href="#!">Terms of
                                                                    service</a>
                                                            </label>
                                                        </div>
                                                        <!-- Add this section inside your form -->
                                                        <div class="d-flex flex-row align-items-center mb-4">
                                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                                            <form class="form-outline flex-fill mb-0" id="otpForm" action="/send_otp" method="post">
                                                                <input type="text" id="form3Example3c" name="email" placeholder="Enter Email" class="form-control" />
                                                                <button type="submit" class="btn btn-primary ms-3" id="sendOTPButton">Send OTP</button>
                                                            </form>                                                            



                                                        </div>

                                                        <!-- JavaScript for sending OTP via AJAX -->
                                                        <script>
                                                            document.getElementById('sendOTPButton').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default form submission behavior

    const emailInput = document.getElementById('form3Example3c').value;

    // Make an HTTP POST request to the server
    fetch('/send_otp', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email: emailInput })
    })
    .then(response => response.json())
    .then(data => {
        console.log('Server response:', data);
        // Handle the server response here
    })
    .catch(error => console.error('Error:', error));
});


                                                            document.addEventListener('DOMContentLoaded', () => {

                                                                const emailInput = document.getElementById('form3Example3c');
                                                                // const generatedOTPInput = document.getElementById('generatedOTPInput');
                                                                // const validateOTPButton = document.getElementById('validateOTPButton');
                                                                // const otpInput = document.getElementById('otpInput');
                                                                // Event listener for the "Validate OTP" button click
                                                                /*validateOTPButton.addEventListener('click', () => {
                                                                    const enteredOTP = otpInput.value;
                                                                    const email = emailInput.value;
                                                                    const generatedOTP = generatedOTPInput.value;

                                                                    if (enteredOTP === generatedOTP) {
                                                                        alert('OTP is valid!');
                                                                        // You can redirect the user to a success page or perform other actions here
                                                                    } else {
                                                                        alert('Invalid OTP. Please try again.');
                                                                    }
                                                                });*/

                                                                // Event listener for the "Send OTP" button click
                                                                document.getElementById('sendOTPButton').addEventListener('click', async () => {
                                                                    try {
                                                                        const response = await fetch('/send-email', {
                                                                            method: 'POST',
                                                                            headers: {
                                                                                'Content-Type': 'application/json',
                                                                            },
                                                                            body: JSON.stringify({ email: emailInput }),
                                                                        });
                                                                        console.log("on sendOTPButton", response)
                                                                        if (response.ok) {
                                                                            const data = await response.json();
                                                                            generatedOTPInput.value = data.generatedOTP;
                                                                            alert('OTP sent successfully!');
                                                                        } else {
                                                                            alert('Failed to send OTP. Please try again.');
                                                                        }
                                                                    } catch (error) {
                                                                        console.error('Error:', error);
                                                                    }
                                                                });
                                                            });

                                                            /*document.addEventListener('DOMContentLoaded', function () {
                                                                const form = document.querySelector('form');

                                                                form.addEventListener('submit', function (event) {
                                                                    // Validate fields before submitting the form
                                                                    if (!form.checkValidity()) {
                                                                        event.preventDefault();
                                                                        event.stopPropagation();
                                                                    }

                                                                    // Handle additional validation, e.g., checking if passwords match or other custom validation

                                                                    // Example: Checking if passwords match
                                                                    const passwordField = document.getElementById('form3Example4c');
                                                                    const confirmPasswordField = document.getElementById('form3Example4cd');
                                                                    const password = passwordField.value;
                                                                    const confirmPassword = confirmPasswordField.value;

                                                                    if (password !== confirmPassword) {
                                                                        // Passwords don't match
                                                                        confirmPasswordField.setCustomValidity("Passwords don't match");
                                                                        event.preventDefault();
                                                                        event.stopPropagation();
                                                                    } else {
                                                                        // Passwords match, clear custom validation message
                                                                        confirmPasswordField.setCustomValidity('');
                                                                    }

                                                                    form.classList.add('was-validated');
                                                                });
                                                            });*/
                                                        </script>

                                                        <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                                                            <button type="submit"
                                                                class="btn btn-primary btn-lg">Register</button>
                                                        </div>

                                                    </form>

                                                </div>
                                                <div
                                                    class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">

                                                    <img src="/img/DSA Login Page Image.png" class="img-fluid"
                                                        alt="Sample image">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Footer Start -->
                        <%- include('footer.ejs') %>
                            <!-- Footer End -->


                            <!-- JavaScript Libraries -->
                            <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
                            <script
                                src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
                            <script src="lib/wow/wow.min.js"></script>
                            <script src="lib/easing/easing.min.js"></script>
                            <script src="lib/waypoints/waypoints.min.js"></script>
                            <script src="lib/counterup/counterup.min.js"></script>
                            <script src="lib/owlcarousel/owl.carousel.min.js"></script>
                            <script src="lib/tempusdominus/js/moment.min.js"></script>
                            <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
                            <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

                            <!-- Template Javascript -->
                            <script src="js/main.js"></script>


</body>

</html>



<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>

  <div class="form-container">
    <h2>SignUp</h2>
    <form action="/signup" method="post">
        
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="username" placeholder="Enter your name" required autocomplete="off">
        </div>
        
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" placeholder="Password" required>
        </div>
        
        <button type="submit" class="submit-btn">Submit</button>
    </form>
</div>

    
</body>
</html> -->